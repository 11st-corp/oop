# 2장

## 객체지향과 인지 능력

- 인간은 세상에 존재하는 다양한 객체를 식별, 분류하며 세상을 이해한다. → 본능적으로 세상을 독립적이고 식별 가능한 객체의 집합으로 바라본다.
- 우리 주변의 객체?
  - 길을 걷는 사람
  - 지나가는 자동차
- **객체지향 패러다임**: 소프트웨어의 세계도 인간이 인지할 수 있는 소프트웨어 객체들이 모여 이루어져 있다는 믿음에서 출발
  - 목적: 현실 세계 모방x, 현실 세계 기반으로 새로운 세계를 창조하는 것

## 앨리스 객체

- 앨리스가 하는 행동에 따라 앨리스의 상태가 변한다.
- 앨리스가 한 행동의 결과는 앨리스의 상태에 의존적이다.
- 어떤 행동의 성공 여부는 이전에 어떤 행동들이 발생했는지에 영향을 받는다.
  - 앨리스가 문을 통과한다 → 앨리스의 **위치**는 아름다운 정원으로 바뀐다.
  - 앨리스가 문을 통과하지 못한다. → 앨리스의 **위치**는 변하지 않는다.
- 행동 간의 순서가 중요하다.
  - 음료나 케이크를 먹는 행동 → 문을 통과하는 행동
- 앨리스는 상태 변경과 무관하게 유일한 존재로 식별 가능하다.

## 객체, 그리고 소프트웨어 나라

- 상태
- 행동
- 식별자

### 상태

- 상태가 필요한 이유: 현재 기반으로 객체의 행동 방식을 이해할 수 있다.
- 모든 객체의 상태는 단순한 값과 객체의 조합으로 표현할 수 있다.
  - 프로퍼티(property): 객체의 상태를 구성하는 모든 특징
    - 앨리스의 키, 위치, 음료
    - 정적
  - 프로퍼티 값(property value)
    - 시간의 흐름에 따라 바뀐다. 동적
- 링크(link): 객체와 객체 사이의 의미 있는 연결

  - 객체의 링크를 통해서만 메시지를 주고받을 수 있다.

- 결론
  - 상태는 특정 시점에 객체가 가지고 있는 정보의 집합, 객체의 구조적 특징을 표현
  - 객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성
  - 객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분

## 행동

### 상태와 행동

- 객체의 행동은 상태에 영향을 받는다
  - 앨리스의 키가 40센티 이하라면 문을 통과할 수 있다.
- 객체의 행동은 상태를 변경시킨다.
  - 문을 통과한 후에 앨리스의 위치는 아름다운 정원으로 바뀌어야 한다.

### 협력과 행동

- 객체는 다른 객체와 적극적으로 상호작용하며 ‘협력하는 객체들의 공동체’에 참여하기 위해 노력한다.
- 객체가 다른 객체와 협력하는 유일한 방법은 다른 객체에게 요청을 보내는 것이다.
- 객체는 수신된 메세지에 따라 적절히 행동하면서 협력에 참여하고 그 결과로 자신의 상태를 변경한다.
- 결론
  - 행동이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동
  - 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있다.
  - 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다.

### 상태 캡슐화

- 메세지 송신자는 메세지 수신자의 상태 변경에 대해서는 전혀 알지 못한다.
- 객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지 않는다.
- 객체가 외부에 노출하는 것과 외부에서 객체의 접근할 수 있는 것은 행동 뿐이다.
- 상태를 외부에 노출시키지 않고 행동을 경계로 캡슐화하는 것은 결과적으로 객체의 자율성을 높인다.
  - 캡슐화는 객체의 자율성을 높이고 협력을 단순하고 유연하게 만든다.

## 식별자

- 식별자를 이용해 객체를 구별

|        | 값(value)                                 | 객체                                 |
| ------ | ----------------------------------------- | ------------------------------------ |
| 정의   | 숫자, 문자열, 날짜, 시간, 금액            | 시간에 따라 변경되는 상태            |
| 상태   | 불변 상태                                 | 가변 상태                            |
| 특성   | 동등성                                    | 동일성                               |
| 식별자 | 상태만으로 동등성을 판단 식별자 필요 없음 | 식별자를 기반으로 객체가 같은지 판단 |
| 명명   | 값 객체                                   | 참조객체, 앤티티                     |

## 기계로서의 객체

- 쿼리 : 상태를 조회
- 명령 : 상태를 변경
- 사용자는 기계를 열어 기계 내부 상태에 직접 접근하려 하지 않는다.
  - 사용자는 객체가 제공하는 명령, 쿼리 버튼으로 구성된 인터페이스를 통해서만 객체에 접근할 수 있다.
- 링크를 통해 연결된 두 객체가 메시지 전송을 통해 협력한다.

## 행동이 상태를 결정한다.

- 상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.
  1. 상태를 먼저 결정할 경우 캡슐화가 저해된다.
  2. 객체를 협력자가 아닌 고립된 섬으로 만든다.
  3. 객체의 재사용성이 저하된다.
- 협력을 잘하려면 상태가 아니라 행동에 초점을 맞춰야한다.
- 객체가 적합한지를 결정하는 것은 그 객체의 상태가 아니라 행동이다.
- 협력 안에서 객체의 행동은 객체가 협력에 참여하면서 완수해야 하는 책임을 의미한다.
- 책임-주도 설계
  - 협력이라는 문맥 안에서 객체의 행동을 생각하도록 도움으로써 응집도 높고 재사용 가능한 객체를 만들 수 있게한다.

## 은유와 객체

- 객체지향은 현실 세계의 추상화이다 → 현실 세계를 모방한다? no
  - 객체지향 세계는 현실 세계의 모방이 아니다.

### 의인화

- 현실의 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징

### 은유

- 소프트웨어 객체에 대한 현실 객체의 은유를 효과적으로 사용할 경우 표현적 차이를 줄일 수 있다.
- 이해하기 쉽고 유지보수가 용이한 소프트웨어를 만들 수 있다.
- 현실 세계인 도메인에서 사용되는 이름을 객체에게 부여하라.
